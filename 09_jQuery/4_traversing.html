<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>
<body>
  <ul id="one" class="level-1">
    <li class="item-i">I</li>
    <li id="ii" class="item-ii">II
      <ul class="level-2">
        <li class="item-a">A</li>
        <li class="item-b">B
          <ul class="level-3">
            <li class="item-1">1</li>
            <li class="item-2">2</li>
            <li class="item-3">3</li>
          </ul>
        </li>
        <li class="item-c">C</li>
      </ul>
    </li>
    <li class="item-iii">III</li>
  </ul>

  <script>
    // 제이쿼리 탐색 참고: https://api.jquery.com/category/traversing/
    //선택자를 통해 페이지에서 원하는 요소를 처음 찾아내고 그 선택된 요소를 기준으로 주변요소를 찾아 이동
   

    //1) find(): 현재 선택된 요소 내부의 모든 자손 요소 중 일치하는 요소를 찾음 
    //  $('li.item-ii').find('li').css('background-color','red');

    //2) parent(): 직접 부모 요소 하나만 선택 (한단계 위의 부모만 찾음)
    // $('li.item-a').parent().css('background-color','red');

    //3) closest(): 가장 가까운 상위 요소 중에서 해당 셀렉터와 일치하는 조상을 찾음 (자기 자신 포함)
    //조상 중 가장 가까운 하나만 반환 
    //사용 예: 어떤 버튼 클릭시 그 버튼이 속한 .card요소만 찾아서 조작
    // $('li.item-a').closest('ul').css('background-color', 'red');
    // $('li.item-a').closest('li').css('background-color', 'red'); // 자기 자신 포함
    
    //4) children(): 직계 자식 요소만 선택 (모든 하위요소가 아니라, 한단계 아래의 자식만 탐색)
    // $('ul.level-2').children().css('background-color', 'red');

  </script>

  <hr>

  <ul id="two">
    <li>list item 1</li>
    <li>list item 2</li>
    <li class="third-item">list item 3</li>
    <li>list item 4</li>
    <li>list item 5</li>
    <li>list item 6</li>
  </ul>

  <script>
   //5) first(): 선택된 요소 집합 중 첫번째 요소만 선택
  //  $('#two li').css('background-color', 'red');

  //6) last(): 선택된 요소 집합 중 마지막 요소만 선택
  //  $('#two li').last().css('background-color', 'red');

  //7) eq(): 선택된 요소중 지정한 인덱스 요소만 선택(eq(2) 2번인덱스와 일치하는 요소)
  //  $('#two li').eq(2).css('background-color','red');

  //8) filter(): 조건에 맞는 요소만 선택
  //  $('#two li').filter(':nth-child(2n)').css('background-color', 'red');

  //9) siblings(): 같은 부모를 공유하는 형제요소들 모두 선택(자기 자신은 제외)
  // 사용 예: 메뉴나 탭 전환 기능에서 .addClass()와 .removeClass()조합으로 자주 쓰임
  // $('li.third-item').siblings().css('background-color','red');

  //10) next(): 현재 요소의 다음 형제 요소 하나를 선택
    // $('li.third-item').next().css('background-color','red');
    // $('li.third-item').nextAll().css('background-color','red');

  //11) prev(): 현재 요소의 이전 형제 요소 하나를 선택
  // $('li.third-item').prev().css('background-color','red');
  // $('li.third-item').prevAll().css('background-color','red');
  </script>

  <hr>

  <ul class="first">
    <li class="foo">list item 1</li>
    <li>list item 2</li>
    <li class="bar">list item 3</li>
  </ul>
  <ul class="second">
    <li class="foo">list item 1</li>
    <li>list item 2</li>
    <li class="bar">list item 3</li>
  </ul>

  <script>
    //12) end():바로 이전 선택 상태(선택 체이닝 이전)로 돌아감  
    //end()를 쓰면 ul.first로 돌아가게되고 거기서부터 다시 시작
    // $('ul.first').find('.foo').css('background-color','red').end().find('.bar').css('background-color','red');
    //여러 조작을 연달아 체이닝해야 할 경우 유리
    //But, 너무 복잡한 체이닝은 코드의 가독성을 떨어뜨릴 수 있음 
    //단순한 구조에서는 직접 선택이 더 깔끔함 
     $('ul.first').find('.foo').css('background-color','red')
     $('ul.first').find('.bar').css('background-color','green')
  </script>

</body>
</html>